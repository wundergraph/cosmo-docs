---
title: "General Usage"
description: "General usage of Cosmo Streams Custom Modules for all available hooks"
icon: "gear"
---

This documentation page covers concepts that are common to all available Cosmo Streams handlers.

## Operation Variables

If variables are used in the operation, you can access them using the `Variables` method on the `OperationContext` interface.

```go
variables := ctx.Operation().Variables()
```

```graphql
subscription($customerId: Int!) {
  orderUpdates(customerId: $customerId) {
    id
  }
}
```

Provided variables:

```json
{
  "customerId": 123
}
```

Inside your handler, you can access the variables using the `Variables` method.

```go
variables := ctx.Operation().Variables()
customerId := variables.Get("customerId").GetInt() // = 123
```

## Operation Arguments

In case no variables are used in the operation, or there is no control over the variables,
you can access the operation arguments using the `OperationContext` interface, too.

```go
arguments := ctx.Operation().Arguments()
```

Suppose you have an operation with multiple arguments

```graphql
subscription {
  orderUpdates(customerId: "123", status: PENDING) {
    id
    items(first: 5, sortBy: "price") { name }
  }
}
```

In order to access the subscription argument `customerId`, you need to use the `Get` method.
```go
customerId := ctx.Operation().Arguments().Get("orderUpdates", "customerId").GetStringBytes()
```

Since `orderUpdates` is the root field, you can also write the code with a more general approach

```go
// For OnPublishEvent handler
rootFieldName := ctx.PublishEventConfiguration().RootFieldName()

// For OnReceiveEvent and SubscriptionOnStart handler
rootFieldName := ctx.SubscriptionEventConfiguration().RootFieldName()


customerId := ctx.Operation().Arguments().Get(rootFieldName, "customerId").Value()
```

In order to access an argument of a nested field, like the `sortBy` argument of the `items` field, 
you need to use the dot notation to access the nested field.

```go
sortBy := ctx.Operation().Arguments().Get("orderUpdates.items", "sortBy").GetStringBytes()
```

If you use an alias for a field, you need to use the alias as the key to access the argument.

```graphql
subscription {
  orderUpdates(customerId: "123", status: PENDING) {
    id
    cheapestItems: items(first: 3, sortBy: "price") { name }
    newestItems: items(first: 3, sortBy: "createdAt") { name }
  }
}
```

```go
cheapestItemsSortBy := ctx.Operation().Arguments().Get("orderUpdates.cheapestItems", "sortBy").GetStringBytes()
newestItemsSortBy := ctx.Operation().Arguments().Get("orderUpdates.newestItems", "sortBy").GetStringBytes()
```

You can also access more complex arguments, like arrays and objects.

```graphql
subscription {
  orderUpdates(statuses: ["pending", "shipped"], filter: { minTotal: 100, currency: "USD" }) {
    id
  }
}
```

```go
arguments := ctx.Operation().Arguments()

statuses := arguments.Get("orderUpdates", "statuses").GetArray()
filter := arguments.Get("orderUpdates", "filter").GetObject()
minTotal := filter.Get("minTotal").GetInt()
currency := filter.Get("currency").GetStringBytes()
```