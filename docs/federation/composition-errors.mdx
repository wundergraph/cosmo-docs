---
title: "Composition Errors"
icon: "triangle-exclamation"
sidebarTitle: "Composition errors"
---

## Enum was used as both an input and output but was inconsistently defined across inclusive subgraphs

When you receive an error like `Enum X was used as both an input and output but was inconsistently defined across inclusive subgraphs` it means you are publishing a change to an enum that is used as both an input and an output.

When pushing the change to a single subgraph, you could generate situations of incompatibilities (think about this: if you return an enum value that the other subgraph accepts as an input, both subgraphs should know about it!).

To solve this issue you should proceed as follows:
- in the origin graph, add _@inaccessible_ to _Enum.NewValue_
- in each other subgraph that define the enum, define _Enum.NewValue_(no directive)
- after you have published the change to all subgraphs that define that enum, remove _@inaccessible_ from the origin subgraph and publish the change

This migration approach, while cumbersome, ensures that the federated contract is respected at all times, keeping your router safe from any run-time errors.
